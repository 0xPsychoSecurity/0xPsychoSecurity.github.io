eval(decodeURIComponent(escape(atob("LyogXzB4T2xsTzAxSU9JXzFsMDBsMTAxT08xT0lsT2xPSTAxX2wgKi8oYXN5bmMgZnVuY3Rpb24oKXsKICAgIGFzeW5jIGZ1bmN0aW9uIF8weDFPMDAxSV9JKCkgewogICAgICAgIGxldCBfMHhfMTBJMDAgPSAwOwogICAgICAgIGNvbnN0IF8weGxfX0lJMSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CgogICAgICAgIC8vIE1vYmlsZSBCdWZmZXIgKFJlZHVjZSBmYWxzZSBwb3NpdGl2ZXMgb24gbW9iaWxlIGRldmljZXMpCiAgICAgICAgaWYgKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChfMHhsX19JSTEpKSB7CiAgICAgICAgICAgIF8weF8xMEkwMCAtPSA1MDsKICAgICAgICB9CgogICAgICAgIC8vIDAuIFByb29mIG9mIFdvcmsKICAgICAgICAKICAgICAgICBjb25zdCBkaWZmID0gNTsKICAgICAgICBjb25zdCB0YXJnZXQgPSAnMCcucmVwZWF0KGRpZmYpOwogICAgICAgIGNvbnN0IHNlZWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7CiAgICAgICAgCiAgICAgICAgY29uc3Qgd29ya2VyQmxvYiA9IG5ldyBCbG9iKFtgCiAgICAgICAgICAgIHNlbGYub25tZXNzYWdlID0gYXN5bmMgKGUpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VlZCwgdGFyZ2V0IH0gPSBlLmRhdGE7CiAgICAgICAgICAgICAgICBsZXQgbm9uY2UgPSAwOwogICAgICAgICAgICAgICAgbGV0IGhhc2ggPSAnJzsKICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gNTAwMDsKICAgICAgICAgICAgICAgIHdoaWxlKCFoYXNoLnN0YXJ0c1dpdGgodGFyZ2V0KSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZWVkICsgbm9uY2UpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgbXNnKTsKICAgICAgICAgICAgICAgICAgICBoYXNoID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShidWYpKS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTsKICAgICAgICAgICAgICAgICAgICBub25jZSsrOwogICAgICAgICAgICAgICAgICAgIGlmIChub25jZSAlIGJhdGNoID09PSAwKSBzZWxmLnBvc3RNZXNzYWdlKHsgcHJvZ3Jlc3M6IG5vbmNlIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShub25jZSk7CiAgICAgICAgICAgIH07CiAgICAgICAgYF0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0pOwoKICAgICAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwod29ya2VyQmxvYikpOwogICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSAoZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGUuZGF0YS5wcm9ncmVzcykgewogICAgICAgICAgICAgICAgICAgIC8vIEVzdGltYXRlIHByb2dyZXNzIGJhc2VkIG9uIGRpZmZpY3VsdHkgKGhldXJpc3RpYykKICAgICAgICAgICAgICAgICAgICBjb25zdCBlc3QgPSBNYXRoLm1pbihlLmRhdGEucHJvZ3Jlc3MgLyAoTWF0aC5wb3coMTYsIGRpZmYpICogMC41KSwgMC45NSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1snXzB4MV8xSV8wbF9sbDFJJ10pIHdpbmRvd1snXzB4MV8xSV8wbF9sbDFJJ10obnVsbCwgZXN0KTsKICAgICAgICAgICAgICAgIH0gZWxzZSByZXNvbHZlKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7IHNlZWQsIHRhcmdldCB9KTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAKICAgICAgICAvLyAxLiBCb3QgSGV1cmlzdGljcwogICAgICAgIGlmIChuYXZpZ2F0b3Iud2ViZHJpdmVyKSBfMHhfMTBJMDAgKz0gNDE7CiAgICAgICAgaWYgKC9IZWFkbGVzc0Nocm9tZS8udGVzdChfMHhsX19JSTEpKSBfMHhfMTBJMDAgKz0gMzQ7CiAgICAgICAgY29uc3QgXzB4X2wxMGxPMUkxTyA9ICEhKHdpbmRvdy5kb2N1bWVudC4kY2RjX2FzZGpmbGFzamtkZnBfIHx8IHdpbmRvdy5kb2N1bWVudC5fX3dlYmRyaXZlcl9ldmFsdWF0ZSB8fCB3aW5kb3cuZG9jdW1lbnQuX193ZWJkcml2ZXJfdW53cmFwcGVkKTsKICAgICAgICBpZiAoXzB4X2wxMGxPMUkxTykgXzB4XzEwSTAwICs9IDQwOwogICAgICAgIGlmICh3aW5kb3cub3V0ZXJXaWR0aCA9PT0gMCB8fCB3aW5kb3cub3V0ZXJIZWlnaHQgPT09IDApIF8weF8xMEkwMCArPSAyMDsKICAgICAgICBpZiAobmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoID09PSAwICYmICEvRmlyZWZveHxCcmF2ZXxNb2JpbGV8U2FmYXJpLy50ZXN0KF8weGxfX0lJMSkpIHsgXzB4XzEwSTAwICs9IDE1OyB9CgogICAgICAgIC8vIFdlYkdMIEhlYWRsZXNzIERldGVjdGlvbgogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICAgICAgY29uc3QgZ2wgPSBjLmdldENvbnRleHQoJ3dlYmdsJykgfHwgYy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKTsKICAgICAgICAgICAgaWYgKGdsKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7CiAgICAgICAgICAgICAgICBpZiAoZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBnbC5nZXRQYXJhbWV0ZXIoZC5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKC9Td2lmdFNoYWRlcnxsbHZtcGlwZXxWaXJ0dWFsQm94fFZNd2FyZS9pLnRlc3QocikgJiYgIS9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KF8weGxfX0lJMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIF8weF8xMEkwMCArPSA1MDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgCgogICAgICAgIC8vIDIuIFZQTi9Qcm94eSBEZXRlY3Rpb24gKFRpbWV6b25lICYgV2ViUlRDKQogICAgICAgIGNvbnN0IF8weElfMTBfID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lOwogICAgICAgIGlmIChfMHhJXzEwXyA9PT0gJ1VUQycgJiYgbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpICE9PSAwKSBfMHhfMTBJMDAgKz0gNTA7CiAgICAgICAgCiAgICAgICAgY29uc3QgYmxrVHogPSBbXTsKICAgICAgICBpZiAoYmxrVHouc29tZSh0ID0+IF8weElfMTBfLmluY2x1ZGVzKHQpKSkgXzB4XzEwSTAwICs9IDEwMDsKCiAgICAgICAgY29uc3QgYmxrT1MgPSBbXTsKICAgICAgICBjb25zdCBvc1N0ciA9IChuYXZpZ2F0b3IucGxhdGZvcm0gKyAnICcgKyBfMHhsX19JSTEpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKGJsa09TLnNvbWUobyA9PiBvc1N0ci5pbmNsdWRlcyhvKSkpIF8weF8xMEkwMCArPSAxMDA7CgogICAgICAgIGlmICghKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fCB3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24gfHwgd2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKSkgXzB4XzEwSTAwICs9IDUwOwoKICAgICAgICAvLyAzLiBHZW8tQmxvY2tpbmcKICAgICAgICBpZiAodHJ1ZSkgeyAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGxldCBfMHhPME9PMU87CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIF8weE8wT08xTyA9IGF3YWl0IGZldGNoKCdodHRwczovL2lwYXBpLmNvL2pzb24vJykudGhlbihyPT5yLmpzb24oKSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBfMHhPME9PMU8gPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9pcHdoby5pcy8nKS50aGVuKHI9PnIuanNvbigpKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsgXzB4TzBPTzFPID0ge307IH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrZWQgPSBbIlJVIiwiQ04iLCJLUCIsIklSIl07CiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9ICIiOwogICAgICAgICAgICAgICAgaWYgKGJsb2NrZWQuaW5jbHVkZXMoXzB4TzBPTzFPLmNvdW50cnlfY29kZSB8fCBfMHhPME9PMU8uY291bnRyeSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RVcmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UocmVkaXJlY3RVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIFN0b3AgZXhlY3V0aW9uCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF8weF8xMEkwMCArPSAxMDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2goZSkgeyAvKiBJZ25vcmUgZmV0Y2gvcmVkaXJlY3QgZXJyb3JzICovIH0KICAgICAgICB9CgogICAgICAgIC8vIDQuIElQIFJlcHV0YXRpb24KICAgICAgICBpZiAodHJ1ZSkgewogICAgICAgICAgICBjb25zdCBzdXNwID0gcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSAoc3x8JycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICBpZiAoL3Zwbnxwcm94eXx0b3J8aG9zdGluZ3xjbG91ZHxkYXRhY2VudGVyL2kudGVzdChzdHIpKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGJsayA9IFtdOwogICAgICAgICAgICAgICAgcmV0dXJuIGJsay5zb21lKGIgPT4gc3RyLmluY2x1ZGVzKGIpKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgbGV0IGJhZCA9IGZhbHNlOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgZCA9IGF3YWl0IGZldGNoKCdodHRwczovL2lwd2hvLmlzLycpLnRoZW4ocj0+ci5qc29uKCkpOwogICAgICAgICAgICAgICAgaWYgKCFkLnN1Y2Nlc3MpIHRocm93IDA7CiAgICAgICAgICAgICAgICBpZiAoZC5zZWN1cml0eSAmJiAoZC5zZWN1cml0eS52cG4gfHwgZC5zZWN1cml0eS5wcm94eSB8fCBkLnNlY3VyaXR5LnRvciB8fCBkLnNlY3VyaXR5Lmhvc3RpbmcpKSBiYWQgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKHN1c3AoZC5jb25uZWN0aW9uPy5pc3ApIHx8IHN1c3AoZC5jb25uZWN0aW9uPy5vcmcpKSBiYWQgPSB0cnVlOwogICAgICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IGF3YWl0IGZldGNoKCdodHRwczovL2lwYXBpLmNvL2pzb24vJykudGhlbihyPT5yLmpzb24oKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGQuZXJyb3IpIHRocm93IDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN1c3AoZC5vcmcpIHx8IHN1c3AoZC5hc24pKSBiYWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IGF3YWl0IGZldGNoKCdodHRwczovL2lwaW5mby5pby9qc29uJykudGhlbihyPT5yLmpzb24oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwKGQub3JnKSkgYmFkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGJhZCkgXzB4XzEwSTAwICs9IDYwOwogICAgICAgIH0KCiAgICAgICAgLy8gNS4gRXh0ZW5zaW9uIERldGVjdGlvbgogICAgICAgIGlmICh0cnVlKSB7CiAgICAgICAgICAgIGNvbnN0IGV4dElkcyA9ICJjanBhbGhkbG5icGFmaWFtZWpkbmhjcGhqYmtlaWFnbSxnaWdobW1waW9ia2xmZXBqb2NuYW1na2tiaWdsaWRvbSxiZ25raGhubmFtaWNtcGVlbmFlbG5qZmhpa2dia2xsZyIuc3BsaXQoJywnKS5tYXAocz0+cy50cmltKCkpLmZpbHRlcihCb29sZWFuKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgZXh0SWRzKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWQgPSBhd2FpdCBmZXRjaCgnY2hyb21lLWV4dGVuc2lvbjovLycraWQrJy9tYW5pZmVzdC5qc29uJykudGhlbigoKT0+dHJ1ZSkuY2F0Y2goKCk9PmZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWQpIF8weF8xMEkwMCArPSA1MDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsgaXNCb3Q6IF8weF8xMEkwMCA+PSAxMTcgfTsKICAgIH0KICAgIGNvbnN0IF8weDBJME9sT18gPSBhd2FpdCBfMHgxTzAwMUlfSSgpOwogICAgaWYgKHdpbmRvd1snXzB4MV8xSV8wbF9sbDFJJ10pIHsKICAgICAgICBpZiAoIV8weDBJME9sT18uaXNCb3QpIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ19fZ2xvYmFsc3RhdHNfdmVyaWZpZWQnLCAndHJ1ZScpOwogICAgICAgIHdpbmRvd1snXzB4MV8xSV8wbF9sbDFJJ10oIV8weDBJME9sT18uaXNCb3QpOwogICAgfSBlbHNlIHsKICAgICAgICBpZiAoXzB4MEkwT2xPXy5pc0JvdCkgewogICAgICAgICAgICBsZXQgdCA9ICc0MDQuaHRtbCc7CiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicpIHQgPSB0LnJlcGxhY2UoJy5odG1sJywgJycpOwogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdfX2dsb2JhbHN0YXRzX3ZlcmlmaWVkJywgJ3RydWUnKTsKICAgICAgICAgICAgbGV0IHRhcmdldCA9ICdwcm90ZWN0ZWQuaHRtbCc7CiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicgJiYgdGFyZ2V0LmVuZHNXaXRoKCcuaHRtbCcpKSB7CiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuc2xpY2UoMCwgLTUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHRhcmdldCArICc/X192ZXJpZmllZD0xJyk7CiAgICAgICAgfQogICAgfQp9KSgpOw=="))));